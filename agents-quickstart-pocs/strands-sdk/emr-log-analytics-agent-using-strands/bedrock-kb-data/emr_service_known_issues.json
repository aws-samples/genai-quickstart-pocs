{"id":"emrservice-1001","summary":"Node Provisioning Issues","description":"This exception is an indication that node provisioning using Puppet and/or BigTop is failing. This could be due to an incorrect configuration (including security configurations, expired certificates), incompatible configs/packages in bootstrap actions that can cause conflicts, and/or open-source application installation issues.","keywords":["com.amazonaws.emr.node.provisioner.puppet.api.PuppetException"],"knowledge_center_links":["https://repost.aws/knowledge-center/emr-application-provisioning-error"]}
{"id":"emrservice-1002","summary":"Package Installation Failure During Node Provisioning","description":"This exception is an indication that Yum is unable to download or install packages during node provisioning due to 1) Space constraints on the file system, 2) Access restrictions to the Amazon S3 Yum repository, or 3) Package incompatibility introduced by bootstrap actions.","keywords":["com.amazonaws.emr.node.provisioner.yum.api.YumException"],"knowledge_center_links":["https://repost.aws/knowledge-center/ec2-troubleshoot-yum-errors-al1-al2"]}
{"id":"emrservice-1003","summary":"Amazon EC2 AMI Linux 2 amazon-linux-extras basearch Error","description":"This exception can be observed in Amazon Linux 2 AMIs. This issue can occur due to the 'basearch' OS parameter modification for Yum variables. It may also be observed when there are access restrictions to the Amazon S3 Yum repository. We recommend validating the VPC, DHCP, or proxy settings. It may also indicate custom AMI issues.","keywords":["com.amazonaws.emr.node.provisioner.install.amazonlinuxextras.AmazonLinuxExtrasException"],"knowledge_center_links":["https://repost.aws/knowledge-center/ec2-al1-al2-update-yum-without-internet"]}
{"id":"emrservice-1004","summary":"Amazon S3 Lake Formation Access Issues","description":"This exception may occur when the Amazon S3 path being accessed by EMR is not registered as a data lake location. Also, ensure that a trust policy is added to allow Lake Formation to assume the runtime role.","keywords":["com.amazonaws.emr.recordserver.remote.RecordServerException"],"knowledge_center_links":["https://docs.aws.amazon.com/lake-formation/latest/dg/tut-register.html"]}
{"id":"emrservice-1005","summary":"Secret Agent Exception","description":"On a managed scaling enabled cluster, a newly added node is deemed ready when the YARN NodeManager is started on that node. If the Secret Agent component is not up and running before the NodeManager is started on a node, a job assigned to that node will fail as the Secret Agent is not reachable. To address this, changes were made to EMR 6.12 (and above) to ensure that the Secret Agent is running and ready before the NodeManager is started.","keywords":["com.amazonaws.emr.secretagent.client.model.SecretAgentClientException"],"knowledge_center_links":[""]}
{"id":"emrservice-1006","summary":"Incorrect Configuration Exception","description":"1) In High Availability (HA) clusters, the EMR service team recommends setting the properties using the following scheme: {'Classification': 'yarn-site', 'Properties': {'yarn.node-labels.fs-store.root-dir': 'file:///apps/yarn/nodelabels'}} This should help resolve the issue. 2) The reconfiguration on EMR clusters is stuck or failing on nodes due to Apache Knox or other third-party services generating some UIDs that are larger than the maximum value, and then the InstanceController can't take the value and fails with this exception. The issue was fixed in EMR 6.10 and above. You can avoid these issues by migrating to EMR 6.11 or above.","keywords":["com.amazonaws.emr.node.provisioner.config.ConfigException"],"knowledge_center_links":[""]}
{"id":"emrservice-1007","summary":"EMR Scaling Service Side Issue","description":"The root cause of the issue is usually related to a bug in the communications protocol between Amazon EC2 instances in an EMR cluster. The bug has been fixed in all AWS regions. AWS is taking steps to prevent a recurrence of this issue. Specifically, AWS is adding automated tests to detect the issue.","keywords":["com.amazonaws.emr.tls.trustmanager.ClusterMembershipCertificateException"],"knowledge_center_links":[""]}
{"id":"emrservice-1008","summary":"Ranger / Lake Formation Authorization Issues","description":"This exception can be an indication of a broader AWS Lake Formation permission issue, invalid Ranger plugin parameters, or EMR clusters using a runtime role with limited access.","keywords":["com.amazonaws.emr.recordserver.remote.AuthorizationException"],"knowledge_center_links":[""]}
{"id":"emrservice-1009","summary":"Incorrect Custom AMI Base Image","description":"This exception indicates that the EMR custom AMI practices are not being followed, notably when an EMR AMI is used to build the Custom AMI, and ensuring that the AMI version matches the EMR release version.","keywords":["com.amazonaws.emr.node.provisioner.install.packaging.InvalidPackageGroupNameException"],"knowledge_center_links":["https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-custom-ami.html#emr-custom-ami-considerations"]}